(this.webpackJsonpearthquackes=this.webpackJsonpearthquackes||[]).push([[0],{57:function(e,t,n){e.exports=n(91)},62:function(e,t,n){},63:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),c=(n(62),n(63),n(28)),l=n(38),u=n(14),s=a.createContext(),m=Object(c.GoogleApiWrapper)({apiKey:"AIzaSyAl_XkmnroVhmrli2PoEPdK6toxlUnPVe4",libraries:["places"]})((function(e){var t=e.google;return a.createElement(s.Provider,{value:t},e.children)})),g=(s.Consumer,n(78),function(){var e=o.a.useContext(s),t=o.a.useState(null),n=Object(u.a)(t,2),a=n[0],r=n[1],i=o.a.useState(""),c=Object(u.a)(i,2),m=c[0],g=c[1],d=o.a.useState([]),p=Object(u.a)(d,2),f=p[0],h=p[1],v=o.a.useState(null),E=Object(u.a)(v,2),b=E[0],y=E[1],x=o.a.useState([]),O=Object(u.a)(x,2),w=O[0],C=O[1],j=o.a.useState(6),k=Object(u.a)(j,2),S=k[0],L=(k[1],o.a.useState({initialLat:null,initialLng:null,error:null})),N=Object(u.a)(L,2),_=N[0],A=N[1];o.a.useEffect((function(){if(e&&e.maps){var t=new e.maps.places.AutocompleteService;r(t)}}),[e]);var P=function(){navigator.geolocation.getCurrentPosition((function(e){A(Object(l.a)({},_,{initialLat:e.coords.latitude,initialLng:e.coords.longitude})),console.log("user loc")}),(function(e){return A({error:e.message})}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:1e3})};o.a.useEffect((function(){var t=new e.maps.Geocoder;null!=b&&t.geocode({placeId:b.place_id},(function(e,t){"OK"===t?(I(e[0].geometry.viewport),W(e[0].geometry.location.lat(),e[0].geometry.location.lng())):window.alert("Geocoder failed due to: "+t)}))}),[b]);var I=function(e){var t=e.getNorthEast().lat(),n=e.getNorthEast().lng(),a=e.getSouthWest().lat(),o=e.getSouthWest().lng();fetch("http://api.geonames.org/earthquakesJSON?north="+t+"&south="+a+"&east="+n+"&west="+o+"&username=mildredgil").then((function(e){return e.json()})).then((function(e){C(e.earthquakes)}))},W=function(e,t){A(Object(l.a)({},_,{initialLat:e,initialLng:t}))};o.a.useEffect((function(){var e=!0;if(null!=a){if(""!==m){var t={input:m,types:["geocode"]};return a.getPlacePredictions(t,(function(t,n){e&&h(t||[])})),function(){e=!1}}h([])}}),[m,fetch]);return{state:_,getUserLocation:P,handleChange:function(e){g(e.target.value)},onChangeValue:function(e,t){y(t)},options:f,markersData:w,google:e,zoom:S,onReadyMap:function(e,t){P()}}}),d=a.createContext(),p=(d.Consumer,n(5)),f=Object(p.a)((function(){return{map:{height:"85vh !important"}}}))((function(e){var t=e.classes,n=o.a.useContext(d),a=n.state,r=n.google,i=n.markersData,l=n.zoom,u=n.onReadyMap;return o.a.createElement(c.Map,{google:r,zoom:l,onReady:u,className:t.map,center:{lat:a.initialLat,lng:a.initialLng}},i.length>0&&i.map((function(e){var t=null;return t=e.magnitude<3?"http://maps.google.com/mapfiles/ms/icons/green-dot.png":e.magnitude<5?"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png":"http://maps.google.com/mapfiles/ms/icons/red-dot.png",o.a.createElement(c.Marker,{position:{lat:e.lat,lng:e.lng},title:"magnitude: "+e.magnitude,data:e,icon:{url:t,anchor:new r.maps.Point(32,32),scaledSize:new r.maps.Size(32,32)}})})))})),h=n(133),v=n(134),E=n(49),b=n.n(E),y=n(131),x=n(132),O=n(128),w=n(46),C=n.n(w),j=Object(O.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}})),k=function(){var e=j(),t=o.a.useContext(d),n=t.handleChange,a=t.onChangeValue,r=t.options;return o.a.createElement(v.a,{id:"google-map-demo",style:{width:"85%",margin:"20px"},getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:r,autoComplete:!0,includeInputInList:!0,disableOpenOnFocus:!0,onChange:a,renderInput:function(e){return o.a.createElement(h.a,Object.assign({},e,{label:"Add a location",variant:"outlined",fullWidth:!0,onChange:n}))},renderOption:function(t){var n=t.structured_formatting.main_text_matched_substrings,a=C()(t.structured_formatting.main_text,n.map((function(e){return[e.offset,e.offset+e.length]})));return o.a.createElement(y.a,{container:!0,alignItems:"center"},o.a.createElement(y.a,{item:!0},o.a.createElement(b.a,{className:e.icon})),o.a.createElement(y.a,{item:!0,xs:!0},a.map((function(e,t){return o.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),o.a.createElement(x.a,{variant:"body2",color:"textSecondary"},t.structured_formatting.secondary_text)))}})},S=Object(p.a)((function(){return{container:{width:"100%"},header:{display:"flex",width:"100%"},counter:{margin:"auto",padding:"15px 20px",borderRadius:"10px",backgroundColor:"#ffffff69"}}}))((function(e){var t=e.classes,n=o.a.useContext(d).markersData;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("div",{className:t.header},o.a.createElement(k,null),o.a.createElement("label",{className:t.counter},n.length))),o.a.createElement("div",{className:t.container},o.a.createElement(f,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(m,null,o.a.createElement((function(e){var t=g();return a.createElement(d.Provider,{value:t},e.children)}),null,o.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.4da888bc.chunk.js.map