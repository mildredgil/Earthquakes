(this.webpackJsonpearthquackes=this.webpackJsonpearthquackes||[]).push([[0],{58:function(e,t,n){e.exports=n(91)},63:function(e,t,n){},64:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),c=(n(63),n(64),n(28)),l=n(33),u=n(16),s=a.createContext(),m=Object(c.GoogleApiWrapper)({apiKey:"AIzaSyD5QaK4xhlY1ZTgwvm8wmiy86NYSzRemmI",libraries:["places"]})((function(e){var t=e.google;return a.createElement(s.Provider,{value:t},e.children)})),g=(s.Consumer,n(45)),d=n.n(g),f=void 0,p=function(){var e=o.a.useContext(s),t=o.a.useState(null),n=Object(u.a)(t,2),a=n[0],r=n[1],i=o.a.useState(""),c=Object(u.a)(i,2),m=c[0],g=c[1],p=o.a.useState([]),h=Object(u.a)(p,2),v=h[0],E=h[1],b=o.a.useState(null),y=Object(u.a)(b,2),w=y[0],O=y[1];console.log(e);var x=o.a.useState({initialLat:null,initialLng:null,error:null,zoom:14,markersData:[]}),C=Object(u.a)(x,2),j=C[0],k=C[1];o.a.useEffect((function(){L()}),[]),o.a.useEffect((function(){if(e&&e.maps){var t=new e.maps.places.AutocompleteService;console.log(t),r(t)}}),[e]);var L=function(){navigator.geolocation.getCurrentPosition((function(e){console.log(e.coords),k(Object(l.a)({},j,{initialLat:e.coords.latitude,initialLng:e.coords.longitude})),console.log(j)}),(function(e){return k({error:e.message})}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:1e3})};o.a.useEffect((function(){var t=new e.maps.Geocoder;null!=w&&t.geocode({placeId:w.place_id},(function(e,t){"OK"===t?(S(e[0].geometry.viewport),_(e[0].geometry.location.lat(),e[0].geometry.location.lng())):window.alert("Geocoder failed due to: "+t)}))}),[w]);var S=function(e){A("http://api.geonames.org/earthquakesJSON?north="+e.north+"&south="+e.south+"&east="+e.east+"&west="+e.west+"&username=mildredgil").then((function(e){return e.json()})).then((function(e){console.log(e),f.setState(Object(l.a)({},j,{markersData:e}))}))},_=function(e,t){k(Object(l.a)({},j,{initialLat:e,initialLng:t}))},A=o.a.useMemo((function(){return d()((function(e,t){var n={input:e,types:["geocode"]};console.log(n),a.getPlacePredictions(n,t)}),200)}),[]);return o.a.useEffect((function(){var e=!0;if(a){if(""===m)return console.log("input empty"),void E([]);var t={input:m,types:["geocode"]};return console.log(t),a.getPlacePredictions(t,(function(t,n){e&&E(t||[])})),function(){e=!1}}}),[m,A]),{state:j,getUserLocation:L,handleChange:function(e){g(e.target.value)},onChangeValue:function(e,t){O(t)},options:v,google:e}},h=a.createContext(),v=(h.Consumer,n(5)),E=Object(v.a)((function(){return{map:{position:"relative",margin:"auto",width:"50%",height:"500px"}}}))((function(e){var t=e.classes,n=o.a.useContext(h),a=n.state,r=n.google,i=n.getUserLocation;return o.a.createElement(c.Map,{google:r,zoom:a.zoom,className:t.map,center:{lat:a.initialLat,lng:a.initialLng},onReady:i},a.markersData.map((function(e){return o.a.createElement(c.Marker,{position:{lat:e.lat,lng:e.lng},title:"magnitude - "+e.magnitude,data:e})})))})),b=n(133),y=n(134),w=n(50),O=n.n(w),x=n(131),C=n(132),j=n(128),k=n(47),L=n.n(k),S=Object(j.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}})),_=function(){var e=S(),t=o.a.useContext(h),n=t.handleChange,a=t.onChangeValue,r=t.options;return o.a.createElement(y.a,{id:"google-map-demo",style:{width:300},getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:r,autoComplete:!0,includeInputInList:!0,disableOpenOnFocus:!0,onChange:a,renderInput:function(e){return o.a.createElement(b.a,Object.assign({},e,{label:"Add a location",variant:"outlined",fullWidth:!0,onChange:n}))},renderOption:function(t){var n=t.structured_formatting.main_text_matched_substrings,a=L()(t.structured_formatting.main_text,n.map((function(e){return[e.offset,e.offset+e.length]})));return o.a.createElement(x.a,{container:!0,alignItems:"center"},o.a.createElement(x.a,{item:!0},o.a.createElement(O.a,{className:e.icon})),o.a.createElement(x.a,{item:!0,xs:!0},a.map((function(e,t){return o.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),o.a.createElement(C.a,{variant:"body2",color:"textSecondary"},t.structured_formatting.secondary_text)))}})},A=Object(v.a)((function(){return{container:{width:"100%"}}}))((function(e){var t=e.classes;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(_,null),o.a.createElement("div",{className:t.container},o.a.createElement(E,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(m,null,o.a.createElement((function(e){var t=p();return a.createElement(h.Provider,{value:t},e.children)}),null,o.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.50796461.chunk.js.map