(this.webpackJsonpearthquackes=this.webpackJsonpearthquackes||[]).push([[0],{59:function(e,t,a){e.exports=a(92)},64:function(e,t,a){},65:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),i=a.n(r),c=(a(64),a(11)),l=(a(65),a(28)),u=a(39),s=a(14),m=n.createContext(),g=Object(l.GoogleApiWrapper)({apiKey:"AIzaSyAl_XkmnroVhmrli2PoEPdK6toxlUnPVe4",libraries:["places"]})((function(e){var t=e.google;return n.createElement(m.Provider,{value:t},e.children)})),d=(m.Consumer,a(80),function(){var e=o.a.useContext(m),t=o.a.useState(null),a=Object(s.a)(t,2),n=a[0],r=a[1],i=o.a.useState(""),c=Object(s.a)(i,2),l=c[0],g=c[1],d=o.a.useState([]),p=Object(s.a)(d,2),f=p[0],h=p[1],x=o.a.useState(null),b=Object(s.a)(x,2),v=b[0],E=b[1],y=o.a.useState([]),O=Object(s.a)(y,2),k=O[0],w=O[1],j=o.a.useState(6),C=Object(s.a)(j,2),S=C[0],L=C[1],N=o.a.useState({initialLat:null,initialLng:null,error:null}),A=Object(s.a)(N,2),_=A[0],I=A[1];o.a.useEffect((function(){if(e&&e.maps){var t=new e.maps.places.AutocompleteService;r(t)}}),[e]);var P=function(){navigator.geolocation.getCurrentPosition((function(e){I(Object(u.a)({},_,{initialLat:e.coords.latitude,initialLng:e.coords.longitude})),console.log("user loc")}),(function(e){return I({error:e.message})}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:1e3})};o.a.useEffect((function(){var t=new e.maps.Geocoder;null!=v&&t.geocode({placeId:v.place_id},(function(e,t){"OK"===t?(M(e[0].geometry.viewport),R(e[0].geometry.location.lat(),e[0].geometry.location.lng())):window.alert("Geocoder failed due to: "+t)}))}),[v]);var M=function(e){var t=e.getNorthEast().lat(),a=e.getNorthEast().lng(),n=e.getSouthWest().lat(),o=e.getSouthWest().lng();fetch("https://secure.geonames.org/earthquakesJSON?north="+t+"&south="+n+"&east="+a+"&west="+o+"&username=mildredgil").then((function(e){return e.json()})).then((function(e){w(e.earthquakes),L(6)}))},R=function(e,t){I(Object(u.a)({},_,{initialLat:e,initialLng:t}))};o.a.useEffect((function(){var e=!0;if(null!=n){if(""!==l){var t={input:l,types:["geocode"]};return n.getPlacePredictions(t,(function(t,a){e&&h(t||[])})),function(){e=!1}}h([])}}),[l,fetch]);return{state:_,getUserLocation:P,handleChange:function(e){g(e.target.value)},onChangeValue:function(e,t){E(t)},options:f,markersData:k,google:e,zoom:S,onReadyMap:function(e,t){P()},get10LastYear:function(){var e=new Date;fetch("https://secure.geonames.org/earthquakesJSON?north=90&south=-90&east=180&west=-180&minMagnitude=5&maxRows=500&date="+e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()+"&username=mildredgil").then((function(e){return e.json()})).then((function(e){w(e.earthquakes.sort((function(e,t){return t.magnitude-e.magnitude})).slice(0,10))})),L(2)}}}),p=n.createContext(),f=(p.Consumer,a(5)),h=Object(f.a)((function(){return{map:{height:"85vh !important"}}}))((function(e){var t=e.classes,a=o.a.useContext(p),n=a.state,r=a.google,i=a.markersData,c=a.zoom,u=a.onReadyMap;return o.a.createElement(l.Map,{google:r,zoom:c,onReady:u,className:t.map,center:{lat:n.initialLat,lng:n.initialLng}},i.length>0&&i.map((function(e){var t=null;return t=e.magnitude<3?"http://maps.google.com/mapfiles/ms/icons/green-dot.png":e.magnitude<6?"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png":"http://maps.google.com/mapfiles/ms/icons/red-dot.png",o.a.createElement(l.Marker,{position:{lat:e.lat,lng:e.lng},title:"magnitude: "+e.magnitude,data:e,icon:{url:t,anchor:new r.maps.Point(32,32),scaledSize:new r.maps.Size(32,32)}})})))})),x=a(134),b=a(135),v=a(50),E=a.n(v),y=a(132),O=a(133),k=a(129),w=a(47),j=a.n(w),C=Object(k.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}})),S=Object(f.a)((function(){return Object(c.a)({autocomplete:{width:"75%",margin:"20px 20px 20px 10px"}},"@media (max-width: ".concat(1e3,"px)"),{autocomplete:{width:"100%",margin:"10px 0px"}})}))((function(e){var t=e.classes,a=C(),n=o.a.useContext(p),r=n.handleChange,i=n.onChangeValue,c=n.options;return o.a.createElement(b.a,{id:"google-map-demo",className:t.autocomplete,getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:c,autoComplete:!0,includeInputInList:!0,disableOpenOnFocus:!0,onChange:i,renderInput:function(e){return o.a.createElement(x.a,Object.assign({},e,{label:"Add a location",variant:"outlined",fullWidth:!0,onChange:r}))},renderOption:function(e){var t=e.structured_formatting.main_text_matched_substrings,n=j()(e.structured_formatting.main_text,t.map((function(e){return[e.offset,e.offset+e.length]})));return o.a.createElement(y.a,{container:!0,alignItems:"center"},o.a.createElement(y.a,{item:!0},o.a.createElement(E.a,{className:a.icon})),o.a.createElement(y.a,{item:!0,xs:!0},n.map((function(e,t){return o.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),o.a.createElement(O.a,{variant:"body2",color:"textSecondary"},e.structured_formatting.secondary_text)))}})})),L=a(51),N=a.n(L),A=Object(f.a)((function(){return Object(c.a)({container:{width:"100%"},header:{display:"flex",width:"100%"},counter:{margin:"auto",padding:"15px 20px",borderRadius:"10px",backgroundColor:"#ffffff69"},star:{margin:"auto",padding:"15px 20px",borderRadius:"10px",backgroundColor:"#ffffff69",cursor:"pointer",display:"flex",verticalAlign:"middle"},starIcon:{paddingRight:"5px"}},"@media (max-width: ".concat(1e3,"px)"),{header:{display:"block",width:"80%",margin:"auto"},counter:{display:"block",margin:"10px 0px"},star:{display:"block",margin:"10px 0px"}})}))((function(e){var t=e.classes,a=o.a.useContext(p),n=a.markersData,r=a.get10LastYear;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("div",{className:t.header},o.a.createElement(S,null),o.a.createElement("label",{className:t.counter},"count: ",n.length),o.a.createElement("div",{onClick:r,className:t.star},o.a.createElement(N.a,{color:"primary",className:t.starIcon}),"Last Earthquakes!"))),o.a.createElement("div",{className:t.container},o.a.createElement(h,null)))}));i.a.render(o.a.createElement(g,null,o.a.createElement((function(e){var t=d();return n.createElement(p.Provider,{value:t},e.children)}),null,o.a.createElement(A,null))),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.69d08620.chunk.js.map